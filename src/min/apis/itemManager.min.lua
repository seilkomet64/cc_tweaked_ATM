local a=peripheral.find("minecraft:dropper")local b=peripheral.find("digitizer")local function c(d)local e=0;for f,g in pairs(a.list())do if g.name==d then e=e+g.count end end;return e end;local function h(d,i,j)local k=0;for l=1,a.size()do local g=a.getItemDetail(l)if g==nil then k=k+j elseif g.name==d then k=k+j-g.count end end;return k>=i end;local function m(d)local n={}for f,g in pairs(a.list())do if g.name==d then a.pushItems(peripheral.getName(b),f)n[#n+1]=b.digitize()end end;return n end;local function o(n)local p=0;for q,r in ipairs(n)do local s,g=pcall(function()return b.getIDInfo(r).item end)if not s then return end;local t=b.getItemDetail(1)if t then local u=t.count;u=u-b.pushItems(peripheral.getName(a),1)if u>0 then error("Something is stuck inside the Digitizer!")end end;if not h(g.name,g.count,CONFIG.CURRENCYSTACKSIZE)then error("The Dropper is full!")end;p=p+g.count;b.rematerialize(r)b.pushItems(peripheral.getName(a),1)end;return p end;return{getCurrency=c,canFit=h,digitizeAllItems=m,materializeItems=o}
